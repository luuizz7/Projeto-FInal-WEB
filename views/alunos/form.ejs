<%- include('../partials/header') %>

<main class="container mt-4">
    <h1><%= aluno ? 'Editar' : 'Novo' %> Aluno</h1>
    <hr>
    
    <div class="card">
        <div class="card-body">
            <form action="<%= aluno ? '/alunos/editar/' + aluno.id : '/alunos/novo' %>" method="POST">
                <div class="mb-3">
                    <label for="nome" class="form-label">Nome Completo</label>
                    <input type="text" class="form-control" id="nome" name="nome" value="<%= aluno ? aluno.nome : '' %>" required>
                </div>
                <div class="mb-3">
                    <label for="matricula" class="form-label">Matr√≠cula</label>
                    <input type="text" class="form-control" id="matricula" name="matricula" value="<%= aluno ? aluno.matricula : '' %>" required>
                </div>
                <div class="mb-3">
                    <label for="turmaId" class="form-label">Turma</label>
                    <select class="form-select" id="turmaId" name="turmaId">
                        <option value="">Selecione uma turma (opcional)</option>
                        <% turmas.forEach(turma => { %>
                            <option value="<%= turma.id %>" <%= (aluno && aluno.turmaId == turma.id) ? 'selected' : '' %>>
                                <%= turma.nome %>
                            </option>
                        <% }) %>
                    </select>
                </div>

                <a href="/alunos" class="btn btn-secondary">Cancelar</a>
                <button type="submit" class="btn btn-primary">Salvar</button>
            </form>
        </div>
    </div>
</main>

<%- include('../partials/footer') %>
